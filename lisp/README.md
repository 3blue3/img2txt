
Image To Text
=============

Image to text conversion program written in Common Lisp, it should automagically
install quicklisp if it cannot be found, such that the `png` package can be
installed.


Dependencies
------------

The quicklisp packages needed are:
 - `png`



Build
-----

``` bash
# Build
$ make
# Clean
$ make clean

```

Run
---


Its possible to run the program directly using the makefile, or normally.
```
$ make run ARGS="lain2.png -c 50  --sample average"
```

or

```
$ ./img2txt --usage
Usage: ./img2txt [ <filename> ] [ OPTION ... ]
Options:
 -a, --alphabet  String of characters used for luminance
                 from light -> dark.
 -s, --sample    Sample method, one of: average, normal, lines (default NORMAL)
 -f, --file      Path to image file, must exist if <filename>
                 isn't the 1st arg.
 -c, --columns   The width of the text image (default 80)
 -y, --scale-y   Scalingfactor applied to the y-axis, 0-100 (default 100/57)
 -i, --intensify Intensify detected lines in sampling mode 'lines' by this factor 0-100 (default 0.8)
 -S, --simularity The difference in luminance allowed between characters 0-255 (default 3)

 -h, --help, --usage
                 Show this message
```

Example
-------

```
$ time ./img2txt lain2.png -c 50  --sample average
?££££££££########€€€€€€£}***}#§§§§§§§§§€§§§§§%%§§%
»++++++++*+++****÷¬¬¬¬¬¬¬¬¬¬;;;;;;++++++++++++++=»
==============~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;;;;;====÷÷÷÷÷=+»=
;;;;;::::::;~~~~~¬~¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;;;;;*}]]]*»»+»»
????£££##£¬~~~~~~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;;;;=@@@%}»+»=
####€€€€?¬~~~~~~~~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;¬;;;:@@%}»+»=
####€€€}~~~~~~~~~~~~~~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;¬;;;@%*»»»=
######£~~~~~~~~~~~~~~~~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬;;;%*=»»=
######¬~~~~~~~~~~~~*]+¬~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬£*=»»=
#£###£~~~~~~~~~¬~~¬?€#¬;~~¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬;÷*»»»=
#####+~~~~~~~~~=¬;¬#€#¬=¬¬¬¬¬¬¬¬¬¬¬¬;¬¬¬¬¬¬¬;+=»»÷
#####;~~~~~~~~~]÷]:€€€÷}¬¬¬¬»;=;¬¬¬;?¬¬¬¬¬¬¬¬+=»»÷
#####;~~~~~~~~¬£]#]#€€]€€€€£#}€€?§*#€=;¬¬¬¬¬¬+=»=÷
#####:~~~~~¬~»;;+]£##£€€€§§§§§§€€€#?»»€¬¬¬¬¬¬»=»»÷
#####=~~~~~»*£##?÷¬;]*£€€§§§§?»};;;]€§€¬¬¬¬¬¬»=»=÷
?]]]]»~~~~~*?£;*;;;:£€€€€§€§????;;::»+€¬¬¬¬¬;»÷==÷
}}***+~~~÷~*£#£#=;;:#€€€€€€€€?€§=::#€€€+¬¬¬¬»»===÷
******~~;*:*£##££####€€€€€€€€€§€€€#?€€#¬+¬÷¬#»÷»=÷
******÷~-**=££######€€€€€€€€€€€€§§€€€€]¬;+¬¬€»÷==:
***++++:~~**}££#######€€€€€€€€€€€€€€€€?*¬¬=*€»÷==:
**+*****~---~]££########?}]£€€€€€€€€€€:¬¬¬¬§#=:==:
*+=»++**:----~]££########?#€€€€€#€€€#;~~¬¬;§€=:=÷:
*+»===»»»------+££££###########€€###~~~~~~;€#=:÷÷:
}*+++++**~------~}££££###########£÷~~~~~~¬=§#=:÷÷:
]]]]]?]??+*~-----~~=?££££#####£}=~~~~-~~~¬€§#=:÷÷:
??££?£££££££££*+:;-»**=»]??*=*}}*#»}€}?~¬;€€#=:÷÷:
?£££££££#########?---~¬;;;;¬¬¬~----€€€#~~=€€£=;÷÷:
££££££££££######£------------------=#€#~~]€€£=;÷÷:
????££££££££££££;-----------,,-----~£##~~£#€£=;÷÷:
???????££££££££»------,,,-----------»##~¬###£=;:÷:
????????££?£?~-,,,,,,,,,-,-----------~?~:###£=;:::
]?????????}-----,-----,----------------~¬?£#£=;:÷:
]]]]]]]];------------------------------~--~]?=;::;
]]]]}~---------------------------------------:;::;
}}--,------,,,----------------------------------:;
;¬-,----------------------------------------------
;-,,-----------------,----------------------------
:-,,--,,,,---------------,------------------------

real    0m0.051s
user    0m0.041s
sys     0m0.010s

$ time ./img2txt lain2.png -c 20 
?£££###€€€??§§§§§§%%
÷÷÷÷÷~~¬¬¬¬¬¬¬;÷÷÷÷+
##€€~~~~¬¬¬¬¬¬;¬;@}+
###~~~~~~~¬¬¬¬¬¬;;*»
##+~~~=*€?¬¬¬¬¬¬¬¬*»
##¬~~~#;¬€§§*¬»§¬¬»»
?]+~~#*¬£€§#?;:€¬¬»=
*}*-»£###€€€€§§€;~»»
*+*»-+£###]#€€€£¬===
}»=»---££#####;~~€==
?£?£££*~*÷£»}»]€¬€==
?££££##-------~#~€=÷
?????»,,,,-----»:#=÷
]]]---------------»:
;-------------------

real    0m0.049s
user    0m0.045s
sys     0m0.004s
```
